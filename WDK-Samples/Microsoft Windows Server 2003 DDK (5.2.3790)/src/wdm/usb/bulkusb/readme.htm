<html>

<head>
<meta http-equiv="Content-Language" content="en-us">
<meta name="GENERATOR" content="Microsoft FrontPage 5.0">
<meta name="ProgId" content="FrontPage.Editor.Document">
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<title>Installing the Driver</title>
</head>

<body>

<p>Installing the Driver<br>
---------------------</p>
<ol>
  <li>Make an 'OEM installation diskette' or equivalent installation source 
  directory for Bulkusb.sys by copying Bulkusb.sys and Bulkusb.inf into it.The 
  sample BulkUsb.Inf is in the DDK BulkUsb\Sys source directory. </li>
  <li>Make sure your device has been programmed with the device VID/PID in the 
  Bulkusb.inf file. If not, edit the device VID, PID, and description text to 
  match your test board/device.</li>
  <li>Depending on the operating system you are using:</li>
</ol>
<blockquote>
  <p>On Windows NT 5.0:</p>
  <blockquote>
    <p>When you plug in the device, the &quot;Found New Hardware Wizard&quot; dialog box 
    will appear with the subheading &quot;Install Hardware Device Drivers&quot;. Hit the 
    radio button labelled &quot;Search for a suitable driver for your device 
    (Recommended)&quot; and then hit the &quot;Next&quot; button. The following screen has you 
    specify your installation source floppy or directory. Do so, then hit the 
    &quot;Next&quot; button. The next screen should indicate that Windows NT is ready to 
    install the driver. Near the middle of the box, you should see the full 
    source path to BulkUsb.Inf. Hit the &quot;Next&quot; button. You'll briefly see a 
    &quot;copying Files&quot; message box, then once again the &quot;Found New Hardware Wizard&quot; 
    box, now displaying the subheading, &quot;Hardware Install: The hardware 
    installation is complete&quot;. Hit the &quot;Finish&quot; button. You should now have a 
    copy of BulkUsb.Sys in your \System32\Drivers directory, a BulkUsb.Inf&nbsp; 
    in your \Winnt\Inf directory, and a newly-created BulkUsb.Pnf file, which is 
    a precompiled setup info file that NT creates. If the final &quot;Add New 
    Hardware Wizard&quot; box indicates any error, or if the OS says you must reboot 
    to finish installation of this device, something has gone wrong. Check your 
    Inf file, Install directory, or driver code, follow the instructions in the 
    below section on simulating a 'first-time' install, and start over.</p>
  </blockquote>
  <p>On Win98: </p>
  <blockquote>
    <p>Plug in the device. The &quot;Add New Hardware Wizard&quot; dialog box will appear, 
    indicating that&nbsp; &quot;This wizard searches for new drivers for: [your 
    deviceName as programmed into your board's hardware]. Hit the &quot;Next&quot; button. 
    On the following screen, hit the radio button labelled &quot;Search for the best 
    driver for your device (Recommended)&quot; . Hit the &quot;Next&quot; button. The next 
    screen has you specify your installation source floppy or directory. Do so, 
    then hit the &quot;Next&quot; button. The next screen should indicate that Windows is 
    ready to install the driver. You should see the full source path to 
    BulkUsb.Inf under the label: &quot;Location of Driver&quot;. Hit the &quot;Next&quot; button. 
    You will see the &quot;Building Driver Information Database&quot; message box, then, 
    if the installation and loading of the driver have succeeded, you will see 
    the final wizard box saying &quot; Windows has finished installing the software 
    that your new hardware device requires.&quot; Hit the &quot;Finish&quot; button. If the 
    final &quot;Add New Hardware Wizard&quot; box indicates any error, or if the OS says 
    you must reboot to finish installation of this device, something has gone 
    wrong. Check your Inf file, Install directory, or driver code, follow the 
    below instructions on simulating a 'first-time' install, and start over.</p>
  </blockquote>
</blockquote>
<p><br>
Updating the Driver<br>
-------------------</p>
<p>To install a new version of your driver after a successful initial 
installation, simply replace the binary in \System32\Drivers. If the initial or 
last installation failed for any reason, follow the below instructions on 
simulating a 'first-time' install.</p>
<p>Simulating a 'First-time' Install <br>
-------------------------------</p>
<p>If you want to test Inf file or installation program modifications, or if 
your first install failed for any reason and you need to do, in effect, a new 
'first-time' driver installation without reinstalling a fresh Win98 or NT5, do 
the following:</p>
<ol>
  <li>Delete BulkUsb.inf from the \Windows\Inf or \Winnt\Inf directory. On Winnt, 
  also delete BulkUsb.PNF from the \Winnt\Inf directory.</li>
  <li>Delete BulkUsb.Sys from the \System32\Drivers directory.</li>
  <li>Using RegEdit on Win98, or RegEdt32 on NT5, purge the registry of the 
  following driver information:</li>
</ol>
<p><br>
For Windows 98: </p>
<blockquote>
  <p>Delete the following registry key:<br>
  \LocalMachine\System\Enum\USB\[the key with your device ID/PID], <br>
  ( in the case of our sample as published, this would be:<br>
  \LocalMachine\System\Enum\USB\VID_045E&amp;PID_930A ) </p>
</blockquote>
<p><br>
For Windows NT 5.0:</p>
<blockquote>
  <p>Delete the following registry key:<br>
  \LocalMachine\System\CurrentControlSet\Enum\USB\[the key with your deviceId/PID]<br>
  On NT5, you must restart the system before reinstalling the driver; this is 
  not neccesary on Win98.</p>
</blockquote>
<p><br>
<br>
BulkUsb.Inf is in the Sys subdirectory.</p>
<p><br>
It allows you to set registry overrides for:</p>
<ol>
  <li>&quot;DebugLevel&quot; debug verbosity level, where 0 == no debug output, 1 == 
  default ,<br>
  higher == more verbose. </li>
  <li>&quot;MaximumTransferSize&quot; The 'chunk size' ( default 4k ) large IO requests 
  are broken up into by the driver.</li>
</ol>
<p><br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
&nbsp;</p>

</body>

</html>

